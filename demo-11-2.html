<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
    </head>
    <body>
        <main>
            <button class="">but1</button>
            <button >but2</button>

        </main>
        <script>
            // 设置和得到原型
            // let a={
            //     name:"a"
            // };
            // let b={
            //     name:"b",
            //     show(){
            //         console.log(this.name);
            //     }
            // };
            
            // Object.setPrototypeOf(a,b);
            // console.dir(a);
            // console.dir(b);
            // a.show();
            // b.show();
            // console.log(Object.getPrototypeOf(a));
            // console.log(a instanceof b);

            //根据对象创建新的对象
            // function User(name){
            //     this.name=name
            // };
            // User.prototype={
            //     constructor:User,
            //     show(){
            //     console.log(this.name);
            // }

            // };
            // let user=new User("user");
            // function test(obj,...arg){
            //     let con=Object.getPrototypeOf(obj).constructor;
            //     return new con(...arg);
            // }
            // let xg=test(user,"xg");
            // console.dir(user);
            // console.dir(xg);
            // xg.show();

            //dom节点借用arr方法
            // let buts=document.querySelectorAll("button");
            // console.dir(Array);
            // buts=new Array().filter.call(buts,item=>{
            //     return item.hasAttribute("class");
            // });
            // console.log(buts[0].innerHTML);
            // js中的继承是原型的继承，而不是构造函数的原型
            // function User(){

            // };
            // User.prototype.name=function(){
            //     console.log("name");
            // }
            // function Admin(){};
            // Admin.prototype=Object.create(User.prototype);
            // // Admin.prototype.constructor=Admin;
            // Object.defineProperty(Admin.prototype,'constructor',{
            //     value:Admin,
            //     enumerable:false
            // })
            // console.log(Object.getOwnPropertyDescriptors(Admin.prototype));
            // Admin.prototype.show=function(){
            //     console.log("show");
            // }
            // // Admin.prototype.__proto__=User.prototype;
            // let hd=new Admin();
            // for(let a in hd){
            //     console.log(a);

            // }
            // console.dir(hd)
            // console.dir(User)
            // hd.name();
            // hd.show();

            // 多态的实现
            // function User(){};
            // function Admin(){};
            // function Menber(){};
            // User.prototype.show=function(){
            //     console.log("我是"+this.des());
            // }
            // User.prototype.des=function(){
            //     return "用户";
            // };
            // Admin.prototype=Object.create(User.prototype);
            // Menber.prototype=Object.create(User.prototype);
            // Admin.prototype.des=function(){
            //     return "管理员";
            // };
            // Menber.prototype.des=function(){
            //     return "普通成员";
            // };
            // new Admin().show();

             // 使用父类构造函数初始属性
            // function User(name,age){
            //     this.name=name;
            //     this.age=age;
            // };
            // User.prototype.show=function(){
            //     console.log(this.name,this.age);
            // };
            // function Admin(...args){
            //     User.apply(this,args);

            // };
            // Admin.prototype=Object.create(User.prototype);
            // new Admin("xg",18).show();

            // 使用原型工厂封装继承
            // function User(name,age){
            //     this.name=name;
            //     this.age=age;
            // };
            // User.prototype.show=function(){
            //     console.log(this.name,this.age);
            // };
            // function Admin(...args){
            //     User.apply(this,args);

            // };
            // function extend(sub,sup){
            //     sub.prototype=Object.create(sup.prototype);
            //     sub.prototype.constructor=sub;
            //     Object.defineProperty(sub.prototype,"constructor",{
            //         value:sub,
            //         enumerable:false
            //     });

            // };
            // extend(Admin,User);
            // console.log(Object.getOwnPropertyDescriptor(Admin.prototype,"constructor"));
            // new Admin("xg",18).show();

            // 对象工厂派生对象并实现继承
            function User(name,age){
                this.name=name;
                this.age=age;
            };
            User.prototype.show=function(){
                console.log(this.name,this.age);
            };
            function admin(name,age){
                const instance=Object.create(User.prototype);
                // const instance={};
                // instance.__proto__=User.prototype;
                User.call(instance,name,age);
                instance.show=function(){
                    console.log(this.name,this.age);
                };
                return instance;
            };
            let a=admin("xg",18);
            a.show();
            console.dir(a);



        </script>
    </body>
</html>