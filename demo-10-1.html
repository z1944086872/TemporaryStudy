<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>

    </head>
    <body>
        <main>

        </main>
        <script>

            // 解构
            // let user={name:"测试",url:"www.baidu.com"};
            // let {url:a,name:b,title="测试2"}=user;
            // console.log(a,b,title);


            //自己属性的检测
            // function oss(option){
            //     if(!option.hasOwnProperty('host')){
            //         throw new Error('必须设置主机地址')
            //     }

            // }
            // oss({user:'admin'});

            //assign合并对象
            // function upload(params){
            //     let options={
            //         size:19999
            //     };
            //     options=Object.assign(options,params);
            //     console.log(JSON.stringify(options,null,20));
            // }
            // upload({size:2000,name:"哈哈"});

            // 遍历操作
            // let hd={
            //     name:"后盾人",
            //     year:"2021"
            // }
            // console.log(Object.keys(hd));
            // console.log(Object.values(hd));
            // console.log(JSON.stringify(Object.entries(hd),null,2));

            // 绘制Dom节点
            // let lesson=[
            //     {name:"js",click:999},
            //     {name:"node",click:100}
            // ];
            // let ul=document.createElement("ul");
            // for(let i of lesson){
            //     let li=document.createElement("li");
            //     li.innerHTML=`课程${i.name},点击数：${i.click}`;
            //     ul.appendChild(li);
            // }
            // document.body.appendChild(ul);

            //递归实现深拷贝
            // let data={
            //     name:"测试",
            //     user:{
            //         name:"测试username"
            //     }

            // };
            // function copy(object) {
            //     let res={};
            //     for(let i in object){
            //         res[i]=typeof object[i]=="object"?copy(object[i]):object[i];
            //     }
            //     return res;
                
            // }
            
            // let hd=copy(data);
            // hd.user.name="测试2";
            // console.log(JSON.stringify(data,null,2));
            // console.log(JSON.stringify(hd,null,2));


             //递归实现深拷贝2
            // let data={
            //     name:"测试",
            //     user:{
            //         name:"测试username"
            //     },
            //     arr:[1,2,3]


            // };
            // function copy(object) {
            //     let res=object instanceof Array?[]:{};
            //     for(let [k,v] of Object.entries(object)){
            //         res[k]= typeof v=="object"?copy(v):v;
            //     }
            //     return res;
                
            // }
            
            // let hd=copy(data);
            // hd.user.name="测试2";
            // hd.arr.push(3);
            // console.log(JSON.stringify(data,null,2));
            // console.log(JSON.stringify(hd,null,2));

            // 工厂创建对象
            // function user(name,age){
            //     return {
            //         name,
            //         age,
            //         show:function(){
            //             console.log(this);
            //         }
            //     };
            // };
            // let a=user("hdr",12);
            // a.show();
            // console.log(a.name,a.age);

            // // 构造函数创建对象
            // function User(name,age){
            //     this.name=name;
            //     this.age=age;
            //     this.show=function(){
            //         console.log(this);
            //     }
            // }

            // let b=new User("hdr2",22);
            // a.show();
            // console.log(a.name,a.age);

            //封装与抽象
            // function User(name,age){
            //     let data={name,age};
            //     let info=function(){
            //         return data.age>50?"老年":"青年";
            //     }
            //     this.show=function(){
            //         console.log(data.name+info());
            //     }
            // }

            // let b=new User("hdr2",22);//因为new完就已经确定了无法改变，只留下了show方法可以被调用 块级作用域 属性与变量的区别
            // // b.data={name:"123",age:12};
            // // b.data.name="123";
            // console.log(b);
            // b.show();

            //属性的特征控制
            // let user={
            //     name:"hdr",
            //     age:18
            // };
            // Object.defineProperty(user,"ket",{
            //     "test":true

            // })
            // console.log(user);
            // console.log(JSON.stringify(Object.getOwnPropertyDescriptor(user,'name'),null,2));


            // 访问器保护数据
            const user={
                data:{name:"测试人",age:88},
                set age(value){
                    if(typeof value!="number"||age<0||age>100){
                        throw new Error("年龄格式错误");
                    }
                    data.age=value;
                },
                get age(){
                    return this.data.age;

                }
            }
            console.log(user.age);
           


            

            
        </script>
    </body>
</html>